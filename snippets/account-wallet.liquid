<script type="text/javascript">
  function modalShow() {
    document.body.classList.add('lowerindex');
    document.body.classList.add('overflowhidden');
    var modal = document.getElementsByClassName('modal-container')[0];
    modal.style.display = 'flex';
  }
  function modalClose() {
    document.body.classList.remove('lowerindex');
    document.body.classList.remove('overflowhidden');
    var modal = document.getElementsByClassName('modal-container')[0];
    modal.style.display = 'none';
  }
  window.onclick = function (event) {
    var modal_container = document.getElementsByClassName('modal-container')[0];
    if (event.target == modal_container) {
      document.body.classList.remove('overflowhidden');
      document.body.classList.remove('lowerindex');
      modal_container.style.display = 'none';
    }
  };
</script>
{% assign close_modal = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
 <path d="M18 6L6 18" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
 <path d="M6 6L18 18" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
 </svg>
 ' %}

{% assign alt_text = 'felicitails account center, emotional support animal certification, psychiatric service animal certification,  dog and cat training, pet insurance, dog walking, pet sitting, dog boarding, dog dna testing, curated supplies and products, felicitails and free my paws founder lindsay giguiere ' %}

{% assign img_account_center_wallet_store_credit = 'https://cdn.shopify.com/s/files/1/0068/5454/1410/files/felicitails-founded-by-lindsay-giguiere-account-center-store-credit-rewards.png?v=1685640384' %}
{% assign alt_account_center_wallet_store_credit = 'felicitails-founded-by-lindsay-giguiere-account-center-store-credit-rewards' %}

{% assign img_account_center_master_card = 'https://cdn.shopify.com/s/files/1/0068/5454/1410/files/felicitails-account-center-mastercard-credit-card-founded-by-lindsay-giguiere.svg?v=1685640384' %}
{% assign img_account_center_discover_card = 'https://cdn.shopify.com/s/files/1/0068/5454/1410/files/felicitails-account-center-discover-credit-card-founded-by-lindsay-giguiere.png?v=1685640384' %}
{% assign img_account_center_american_card = 'https://cdn.shopify.com/s/files/1/0068/5454/1410/files/felicitails-account-center-american-express-credit-card-founded-by-lindsay-giguiere.png?v=1685640384' %}
{% assign img_account_center_visa_card = 'https://cdn.shopify.com/s/files/1/0068/5454/1410/files/felicitails-account-center-visa-credit-card-founded-by-lindsay-giguiere.svg?v=1685640384' %}

<div class="account-main-body">
  <div class="account-main-items">
    <div class="account-main-digitalvault">
      <div class="account-main-item-title">
        <h1>Wallet & Store Credit</h1>
      </div>
      <div class="account-main-item-image">
        <img src="{{ img_account_center_wallet_store_credit }}" alt="{{ alt_account_center_wallet_store_credit }}">
      </div>
    </div>
    <div class="wallet_store width-fill">
      <div class="wallet-group width-fill">
        <div class="header width-fill">
          <h4>Wallet</h4>
          <div class="width-fill"></div>
        </div>
        <div class="account-cards width-fill">
          <div class="account-card add">
            <div class="add-address">
              <span class="add">+</span>
              <h4 class="text">Add a payment method</h4>
            </div>
          </div>
          <div class="account-card">
            <div class="width-fill height-fill card-content">
              <div class="card-header">
                <img src="{{ img_account_center_master_card }}" alt="{{ alt_text }}">
              </div>
              <div class="card-body">
                <div class="header">Apple Card</div>
                <div class="body">
                  <p>Credit card ending</p>
                  <p>in <span class="secret">****</span>6992</p>
                </div>
              </div>
              <div class="card-footer">
                <p class="width-fill">
                  <a onclick="modalShow();">Edit</a>
                  |
                  <a>Remove</a>
                </p>
              </div>
            </div>
          </div>
          <div class="account-card">
            <div class="width-fill height-fill card-content">
              <div class="card-header">
                <img src="{{ img_account_center_american_card }}" alt="{{ alt_text }}">
              </div>
              <div class="card-body">
                <div class="header">Apple Card</div>
                <div class="body">
                  <p>Credit card ending</p>
                  <p>in <span class="secret">****</span>6992</p>
                </div>
              </div>
              <div class="width-fill card-footer">
                <p class="width-fill">
                  <a>Edit</a>
                  |
                  <a>Remove</a>
                  |
                  <a>Set as Main</a>
                </p>
              </div>
            </div>
          </div>
          <div class="account-card">
            <div class="width-fill height-fill card-content">
              <div class="card-header">
                <img src="{{ img_account_center_discover_card }}" alt="{{ alt_text }}">
              </div>
              <div class="card-body">
                <div class="header">Apple Card</div>
                <div class="body">
                  <p>Credit card ending</p>
                  <p>in <span class="secret">****</span>6992</p>
                </div>
              </div>
              <div class="width-fill card-footer">
                <p class="width-fill">
                  <a>Edit</a>
                  |
                  <a>Remove</a>
                  |
                  <a>Set as Main</a>
                </p>
              </div>
            </div>
          </div>
          <div class="account-card">
            <div class="width-fill height-fill card-content">
              <div class="card-header">
                <img src="{{ img_account_center_visa_card }}" alt="{{ alt_text }}">
              </div>
              <div class="card-body">
                <div class="header">Apple Card</div>
                <div class="body">
                  <p>Credit card ending</p>
                  <p>in <span class="secret">****</span>6992</p>
                </div>
              </div>
              <div class="width-fill card-footer">
                <p class="width-fill">
                  <a>Edit</a>
                  |
                  <a>Remove</a>
                  |
                  <a>Set as Main</a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="wallet-group width-fill">
        <div class="header width-fill">
          <h4>Store Credit</h4>
          <div class="width-fill"></div>
        </div>
        <div class="body width-fill">
          <div class="width-fill credit-explain">
            <p class="width-fill">All store credit is available for use on felicitails.com.</p>
            <p class="width-fill">Credit will automatically be applied to your next order.</p>
          </div>
          <div class="width-fill felicitail-store-credit">
            <img src="{{ img_account_center_wallet_store_credit }}" alt="{{ alt_account_center_wallet_store_credit }}">
            <div class="width-fill credit-data">
              <div class="header width-fill">Felicitails Store Credit</div>
              <div class="body width-fill">
                Balance:

                {% if customer %}
                  {% assign customer_credit_balance = 0 %}
                  {% assign response = '' %}
                  {% capture url %}
                    https://creditsyard.com/api/common/customers/get
                  {% endcapture %}

                  {% capture payload %}
                    {
                    "customer_id": "6983494107437","customer_email": "iwo.wisniewski@greenfieldgroves.com"}
                  {% endcapture %}

                  {% capture options %}
                    {
                      "method": "get",
                      "headers": {
                        "Content-Type": "application/json",
                        "X-Shop-Api-Key": "03eca8bb9588dd2e1d02006a41c42bb5"
                      }
                    }
                  {% endcapture %}

                  {% assign response = request | json | parse_json %}
                  {% assign customer_credit_balance = response.body.balance %}
                  {% if customer_credit_balance > 0 %}
                    <p>Your current Credityard credit balance is {{ customer_credit_balance }}</p>
                  {% endif %}
                {% endif %}
              </div>
              <div class="buttons width-fill">
                <button>Reload Your Balance</button>
                <button>Redeem a Gift Card</button>
                <button>View Activity</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-container" style="display:none">
  <div class="modal wallet-modal-box">
    <div class="modal-header">
      <h4>CHANGE SCHEDULE</h4>
      <div onclick="modalClose();">
        {{ close_modal }}
      </div>
    </div>
    <div class="line-w"></div>
    <div class="modal-body">
      <div class="wallet-modal">
        <div class="card-information width-fill">
          <div class="information-group width-fill">
            <div class="width-fill item-other font-default">
              <label for="info-card-name" class="width-fill info-label">Name on card</label>
              <input
                type="text"
                name="card-name"
                id="info-card-name"
                class="width-fill info-input"
              >
            </div>
          </div>

          <div class="information-group width-fill">
            <div class="width-fill item-other font-default">
              <label for="info-expdatem" class="width-fill info-label">Expiration date</label>
              <div class="width-fill select info-input">
                <select
                  name="expdatem"
                  id="info-expdatem"
                  class="width-fill"
                >
                  <option value="0">Month</option>
                  <option value="1">Jan</option>
                  <option value="2">Feb</option>
                  <option value="3">Mar</option>
                  <option value="4">Apr</option>
                  <option value="5">May</option>
                  <option value="6">Jun</option>
                  <option value="7">Jul</option>
                  <option value="8">Aug</option>
                  <option value="9">Sup</option>
                  <option value="10">Oct</option>
                  <option value="11">Nov</option>
                  <option value="12">Dec</option>
                </select>
              </div>
            </div>
            <div class="width-fill item-other font-default">
              <label
                for="info-expdatey"
                class="width-fill info-label"
                style="color: transparent;"
                >.</label
              >
              <div class="width-fill select info-input">
                <select
                  name="expdatey"
                  id="info-expdatey"
                  class="width-fill"
                >
                  <option value="0">Day</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
            </div>
          </div>

          <div class="information-group width-fill">
            <div class="width-fill item-other font-default item-policy">
              <input
                type="checkbox"
                name="policy"
                id="info-policy"
                class="check"
              >
              <label for="info-policy" class="width-fill info-label">Set as default payment method</label>
              <label for="info-policy"></label>
            </div>
          </div>

          <a class="remove-wallet-mobile font-default width-fill">Remove from wallet</a>
        </div>
        <div class="line-h-modal"></div>
        <div class="card-address width-fill">
          <div>
            <p class="card-address-head">Billing address</p>
            <div>
              <p>Lindsay Giguere</p>
              <p>4039 Rivoli</p>
              <p>Newport Beach, CA, 92660-9025</p>
              <p>United States</p>
              <p>+19123456789123</p>
            </div>
          </div>
          <a class="font-default">Change</a>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <a class="remove-wallet-desktop font-default">Remove from wallet</a>
      <div class="modal-buttons">
        <button class="no wallet-modal-button">Cancel</button>
        <button class="yes wallet-modal-button">Apply</button>
      </div>
    </div>
  </div>
</div>
